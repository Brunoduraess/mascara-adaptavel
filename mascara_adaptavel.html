<!doctype html>
<html>

<head>
    <meta charset="utf-8">

</head>

<body>

    <label>Telefone:</label>
    <input type="text" name="telefone" id="telefone">

    <label>CPF / CNPJ:</label>
    <input type="text" name="cpfcnpj" id="cpfcnpj">


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" type="text/javascript"></script>

    <script src="jquery.mask.js" type="text/javascript"></script>

    <script type="text/javascript">

        $("#telefone").keydown(function () {
            try {
                $("#telefone").unmask();
            }
            catch (e) { }
            var tamanho = $("#telefone").val().length; if (tamanho < 10) { $("#telefone").mask("(00)0000-0000"); } else { $("#telefone").mask("(00)00000-0000"); }

            // ajustando foco 
            var elem = this; setTimeout(function () {

                // mudando a posição do seletor
                elem.selectionStart = elem.selectionEnd = 10000;
            }, 0);

            // mudando o foco 
            var currentValue = $(this).val(); $(this).val(''); $(this).val(currentValue);
        });



        $("#cpfcnpj").keydown(function () {
            try {
                $("#cpfcnpj").unmask();
            } catch (e) { }

            var tamanho = $("#cpfcnpj").val().length;

            if (tamanho < 11) {
                $("#cpfcnpj").mask("999.999.999-99");
            } else {
                $("#cpfcnpj").mask("99.999.999/9999-99");
            }

            // ajustando foco
            var elem = this;
            setTimeout(function () {
                // mudo a posição do seletor
                elem.selectionStart = elem.selectionEnd = 10000;
            }, 0);
            // reaplico o valor para mudar o foco
            var currentValue = $(this).val();
            $(this).val('');
            $(this).val(currentValue);
        });

    </script>

</body>

</html>
